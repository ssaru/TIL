# Clean Code [Chapter 1 ~ 2]

디텍션 모임에서 프로젝트 진행시 Agile 및 CI, 전반적인 코드의 개선을 논의하고있음.

논의사항의 일부로써 다같이 Clean Code를 읽고 매 스프린트마다 Clean Code내용을 리뷰함



이번엔 클린코드 1~2장에 대한 내용을 간략히 리뷰

​    

## 왜 좋은 코드를 작성해야하는가?

- 통계를 보면 프로그래밍을 할 때, 코드를 읽고 짜는 비율은 10:1 이상이다.
- 결국 프로그래밍이라는 것은 끊임없이 코드를 읽는 과정이다.
- 좋지 않은 코드는 버그 및 기술부채를 유발하고, 시간이 지나서 시스템이 커지거나 고도화되면 될 수록 팀의 생산력은 `0`에 수렴한다.



![productivity-vs-time](https://user-images.githubusercontent.com/13328380/51108338-3dc27c00-1835-11e9-893d-76cd385e2fc8.png)



- 급한 비지니스의 문제해결을 위해서 기술부채를 감수하고, `나중에 리팩토링하자`하지만 **르블랑의 법칙**에 의해 `절대 그런날이 오지 않는다.`

  > LeBlanc's Law states: "Later equals never"

- 나쁜 코드의 책임은 나쁜 코드를 작성한 프로그래머에게 있음

  > 의사에서 급한 환자가 있고, 밀린 환자가 많으니 `손을 씻지마시오`라는 말은 정당한가? 또한 손을 씻지 않았을 때의 책임은 누구에게 있는가?



​    

## 좋은 코드란 무엇인가?

각 소프트웨어의 대가에게 좋은 코드에 대해서 물어봤을 때, 공통의 의견을 정리해보면 다음과 같다.

​    

### 기능적인 의미

- 좋은 코드는 한가지에 집중한다.
  - 한가지 기능에 충실한다.
- 클래스, 메소드, 함수 최소화
  - 집합에서 항목찾기 관련 구현은 추상화

​    

### 가독성

- 보기가 즐겁고 효율적인 코드

  > ???....  추상적이어서 이해할 수 없음. 그저 느낌만...

- 가독성이 좋다

- 문학을 읽는 것처럼 내용이 읽힌다

  - `문학적 프로그래밍`

- 다른 사람이 고치기 쉽다

- 고칠게 없다 궁리를 하다보면 원 코드로 회귀한다.

- 중복이 없다

​    

### 철저한 테스트

- 테스트 코드가 존재한다.

- 모튼 테스트를 통과한다.

- 잘못된 코드가 없다.

  - 잘못된 코드는 잘못된 코드를 부른다.

    > 하나의 창문이 깨진채로 방치된 건물은 결국 모든 창문이 깨지게 된다.
    >
    > 더러운 코드 프로젝트에서는 더러운 코드가 탄생하게 된다.

  - 유지보수를 잘해야한다.

- 철저한 오류처리

​    

### 작동 명세와 실제

- 시스템이 모든 내 설계 아이디어를 표현한다.
- 코드를 읽었을 때, 기대하는 동작과 실제 동작이 일치한다.



​    

## 클린코드 원칙

- 보이스카우트 규칙
  - 캠프장은 처음 왔을 때보다 더 깨끗히 하고 떠나라
- 프리퀄과 원칙
  - SRP / OCP/ DIP를 지켜라
- 책은 예술을 보여줄 뿐이지만, 좋은 예술과 나쁜 예술을 구분한다고 내가 예술을 `잘` 할 수 있는 것은 아니다.
  - 끊임없이 연습하라

​    

## 의미있는 이름

- 변수 이름을 보고 어떤 의미인지 알 수 있게 프로그래밍 해라

- 의미없는 변수는 함수 내의 제어문을 위한 변수만 사용해라

  - 다만 변수이름으로  `l`, `o`는 피해라

- 잘못된 정보를 피해라

  - somethingList라는 변수는 프로그래머에게 list라는 자료구조를 떠오르게 만든다. 하지만 somethingList가 list라는 자료구조로 구현되어있지 않다면 이는 프로그래머에게 잘못된 정보를 전달한다.
  - 프로그래머 공통의 약어를 제외하고는 자신만의 약어를 사용하지 마라

- 의미있게 구분해라

  - 같은 코드의 다음과 같은 변수는 서로의 차이를 구분할 수 없게 만든다.

    > getActiveAccount
    >
    > getActiveAccountInfo
    >
    > getActiveAccounts

- 변수 뒤에 숫자를 붙이거나 불용어를 쓰지마라

  > 연구 코드 짜는 입장에서 예외가 있어야하지 않을까?
  >
  > - Layer1
  > - Layer2
  > - Layer3

  - 불용어
    - Account`Info`
    - Account`s`
    - name`String`
    - Phone`String`

- 발음하기 쉬운 이름을 사용해라

- 검색하기 쉬운 이름을 사용해라

  - 검색하기 쉽게 의미있는 변수명을 써라

- 상수는 문자열 상수로 대체해라

  - 만약에 상수가 4면 IDE로 해당 상수 4를 찾게되면, 찾기 너무 어렵다

- 인코딩을 피해라

  - 헝가리안방식

    > `c`Handle

- 클래스 이름은 명사/명사구로 작성한다.

- 메소드 이름은 동사/동사구로 작성한다.

- 생성자 오버로드시 정적 팩토리 메소드를 사용한다.

  - ```python
    # it's better
    Complex complex = Complex.fromRealNumber(40)
    
    # it's worse
    Complex complex = Complex(40)
    ```

- 메소드의 인자 이름은 인수를 설명하는 이름을 사용한다.

  - ```python
    # it's better
    def copy(source, destination):
        ...
        
    # it's worse
    def copy(ch1, ch2):
        ...
    ```

- 변수 이름에 일관성을 유지해라

  - 같은 개념에 다른 단어를 혼용해서 쓰지마라
    - 책쓰는것과 똑같이 같은 개념엔 같은 단어를 사용한다.

- 기발하거나 예상외의 변수이름 혹은 특정 문화에 귀속되는 단어를 사용하지 않는다.

- 적합한 일반적인 이름이 없다면 전산학에서 사용하는 도메인 이름, 해당 분야에만 적용되는 도메인 이름을 변수이름으로 사용한다.

- 변수에 맥락표현이 되도록 접두사/접미사를 적절히 사용한다.

- 불필요한 맥락 사용을 금지한다.

  - Stochastic Gradient Descent을 의미하는 `SGD`라는 메소드명보다 `GradientDescent`라는 메소드 이름이 잘 모르는 사람이 IDE 자동완성기능을 통해서 함수명을 찾을 때, 더 도움이 되며, `SGD`의 경우에는 잘 알지못하는 사람이 봤을 때, 의미를 파악하기 어렵다.